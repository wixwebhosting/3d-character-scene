<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Heads Demo</title>
  <link rel="stylesheet" href="/style.css">
  <!-- Import map to allow bare module specifiers if needed in future -->
  <script type="importmap">
  {
    "imports": {
      "three": "https://cdn.jsdelivr.net/npm/three@0.153.0/build/three.module.js"
    }
  }
  </script>
</head>
<body>
  <div id="container"></div>
  
  <!-- Crazy Mode UI -->
  <div id="crazy-mode-ui" style="position: absolute; top: 10px; left: 50%; transform: translateX(-50%); color: white; font-family: Arial, sans-serif; font-size: 18px; text-align: center; background: rgba(0,0,0,0.7); padding: 10px; border-radius: 5px; z-index: 1000;">
    Crazy Mode: DISABLED<br>Press P to activate
  </div>
  
  <!-- Center crosshair -->
  <div id="crosshair" style="position:fixed;left:50%;top:50%;width:8px;height:8px;margin-left:-4px;margin-top:-4px;background:#000;border-radius:50%;pointer-events:none;z-index:10;"></div>
  
  <!-- Controls info -->
  <div style="position: absolute; top: 10px; left: 10px; color: white; font-family: Arial; background: rgba(0,0,0,0.7); padding: 10px; border-radius: 5px;">
    <strong>Controls:</strong><br>
    WASD - Move around<br>
    Mouse - Look around
  </div>

  <!-- Use ES module builds to avoid deprecated global build warnings -->
  <script>
    // SSE listener to print server-broadcasted client logs into page console
    (function(){
      const es = new EventSource('/events');
      es.onmessage = function(ev){
        try{ const data = JSON.parse(ev.data); console.log('SERVER EVENT', data); } catch(e){}
      };
      es.onerror = function(){ /* ignore */ };
    })();
  </script>
  <script type="module" src="/app.module.js"></script>
</body>
</html>
